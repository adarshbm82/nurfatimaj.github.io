<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>variable selection | Nurfatima Jandarova</title>
    <link>/tags/variable-selection/</link>
      <atom:link href="/tags/variable-selection/index.xml" rel="self" type="application/rss+xml" />
    <description>variable selection</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Sun, 25 Aug 2019 11:11:45 +0600</lastBuildDate>
    <image>
      <url>img/map[gravatar:%!s(bool=false) shape:circle]</url>
      <title>variable selection</title>
      <link>/tags/variable-selection/</link>
    </image>
    
    <item>
      <title>Multiple Imputation: Variable Selection</title>
      <link>/post/research/mi-vars-simulation/</link>
      <pubDate>Sun, 25 Aug 2019 11:11:45 +0600</pubDate>
      <guid>/post/research/mi-vars-simulation/</guid>
      <description>&lt;p&gt;The choice of imputation model in a multiple imputation setting is a very frustrating topic. One of the most popular recommendations in the literature is to always include an outcome variable when imputing a regressor to make sure that their covariance is not attenuated. In fact, variable choice recommendations sound like a kitchen-sink approach: include everything that could predict the imputed variable and missingness mechanism.&lt;/p&gt;
&lt;p&gt;Our project is interested in the effect of intelligence score on college degree attainment, controlling for family background. College degree variable has missing observations. The dataset also has current earnings variable, which could be a good predictor of university degree. But it also depends on person&amp;rsquo;s intelligence and could affect the main parameter of interest.&lt;/p&gt;
&lt;h1 id=&#34;simulation&#34;&gt;Simulation&lt;/h1&gt;
&lt;h2 id=&#34;context&#34;&gt;Context&lt;/h2&gt;
&lt;p&gt;I am setting up the simulation exercise as close as possible to our actual goal. There is a binary outcome variable with missing information and three complete continuous regressors.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Outcome variable: probability of having a university degree (&lt;code&gt;$uni$&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Regressors:
&lt;ul&gt;
&lt;li&gt;IQ score (&lt;code&gt;$iq$&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Family wealth (&lt;code&gt;$wealth$&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Future income (&lt;code&gt;$fincome$&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The main analysis model is
&lt;code&gt;$$\begin{equation}\Pr(uni) = F(\beta_0 + \beta_1 uni + \beta_2 wealth + \varepsilon)\end{equation}$$&lt;/code&gt;
and our main paramater of interest is &lt;code&gt;$\beta_1$&lt;/code&gt;. The aim of this simulation exercise is to figure out if including or excluding &lt;code&gt;$fincome$&lt;/code&gt; into imputation model affects estimator of &lt;code&gt;$\beta_1$&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;setup&#34;&gt;Setup&lt;/h2&gt;
&lt;p&gt;I am using R package &lt;code&gt;mice&lt;/code&gt; to run a multiple imputation. The simulation parameters are set up as follows&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-R&#34; data-lang=&#34;R&#34;&gt;mean_x &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# vector of means of uni and wealth&lt;/span&gt;
covar_x &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;matrix&lt;/span&gt;(&lt;span style=&#34;color:#a6e22e&#34;&gt;c&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;0.2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;), &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;, &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# covar matrix of uni and wealth&lt;/span&gt;
beta_1 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.1&lt;/span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;# true \beta_1&lt;/span&gt;
beta_2 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.05&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# true \beta_2&lt;/span&gt;
alpha_0 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt;      &lt;span style=&#34;color:#75715e&#34;&gt;# intercept in log wage model&lt;/span&gt;
alpha_1 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.15&lt;/span&gt;   &lt;span style=&#34;color:#75715e&#34;&gt;# coefficient of uni in log wage model&lt;/span&gt;
alpha_2 &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.1&lt;/span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# coefficient of iq in log wage model&lt;/span&gt;
N &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;10000&lt;/span&gt;        &lt;span style=&#34;color:#75715e&#34;&gt;# number of observations&lt;/span&gt;
p_miss &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0.7&lt;/span&gt;     &lt;span style=&#34;color:#75715e&#34;&gt;# probability of missing uni&lt;/span&gt;
M &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;70&lt;/span&gt;           &lt;span style=&#34;color:#75715e&#34;&gt;# number of imputations&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I have generated the university dummy using logit model. I create two different datasets under two missingness mechanisms: missing completely at random (MCAR) and missing non-randomly (MNAR).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-R&#34; data-lang=&#34;R&#34;&gt;data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;mvrnorm&lt;/span&gt;(n &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; N, mu &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; mean_x, Sigma &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; covar_x) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;as.data.frame&lt;/span&gt;() &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;select&lt;/span&gt;(iq &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; V1, wealth &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; V2)
data &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; data &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(p_uni &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;(&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;exp&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;beta_1&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;iq &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt; beta_2&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;wealth)),
         uni &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rbinom&lt;/span&gt;(N, &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;, p_uni),
         lwage &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; alpha_0 &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; alpha_1&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;uni &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; alpha_2&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;iq &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;rnorm&lt;/span&gt;(N))
df_mcar &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; data &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(u &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;runif&lt;/span&gt;(N),
         uni &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(u &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; p_miss, &lt;span style=&#34;color:#66d9ef&#34;&gt;NA&lt;/span&gt;, uni),
         uni &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as.factor&lt;/span&gt;(uni)) &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;select&lt;/span&gt;(&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;p_uni, &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;u)
df_mnar &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;-&lt;/span&gt; data &lt;span style=&#34;color:#f92672&#34;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span style=&#34;color:#a6e22e&#34;&gt;mutate&lt;/span&gt;(uni &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;ifelse&lt;/span&gt;(p_uni &lt;span style=&#34;color:#f92672&#34;&gt;&amp;lt;=&lt;/span&gt; p_miss, &lt;span style=&#34;color:#66d9ef&#34;&gt;NA&lt;/span&gt;, uni),
         uni &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;as.factor&lt;/span&gt;(uni))
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;imputation&#34;&gt;Imputation&lt;/h2&gt;
</description>
    </item>
    
  </channel>
</rss>
